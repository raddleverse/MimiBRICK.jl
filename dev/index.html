<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · MimiBRICK.jl Documentation</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="MimiBRICK.jl Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>MimiBRICK.jl Documentation</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Author-Contributions"><span>Author Contributions</span></a></li><li><a class="tocitem" href="#License"><span>License</span></a></li></ul></li><li><a class="tocitem" href="install_and_examples/">Installation and Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/raddleverse/MimiBRICK.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="MimiBRICK.jl"><a class="docs-heading-anchor" href="#MimiBRICK.jl">MimiBRICK.jl</a><a id="MimiBRICK.jl-1"></a><a class="docs-heading-anchor-permalink" href="#MimiBRICK.jl" title="Permalink"></a></h1><p>MimiBRICK.jl is an implementation of the <a href="https://doi.org/10.5194/gmd-10-2741-2017">Building Blocks for Relevant Ice and Climate Knowledge (BRICK) semi-empirical model for sea-level change</a> in the Mimi integrated modeling framework (https://www.mimiframework.org/). The Mimi modeling framework is a coding platform that facilitates coupling models and running coupled modeling experiments. MimiBRICK.jl is flexible, efficient, and modular, to facilitate incorporating BRICK into coupled models and integrated assessments of climate impacts in a modular fashion to provide global average as well as local sea-level projections. This focus on tight model coupling and integrated modeling is a key feature of MimiBRICK.jl and broader Mimi modeling framework.</p><p>This implementation includes examples for using observational data to calibrate the model, as well as various configurations in which MimiBRICK.jl is coupled to other climate model components. For users who do not wish to re-run computationally intensive model calibration algorithms, this implementation also includes scripts for using existing calibration output for standard future climate change scenarios, and examples downscaling these global projections for assessments of local impacts. Pre-run model calibration and simulation output can be found in the <a href="https://zenodo.org/record/6626335">accompanying Zenodo repository</a>.</p><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.calculate_trends-Tuple{Vector{Float64}, DataFrame, Int64, Int64}" href="#MimiBRICK.calculate_trends-Tuple{Vector{Float64}, DataFrame, Int64, Int64}"><code>MimiBRICK.calculate_trends</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calculate_trends(model_output::Array{Float64,1}, obs_trends::DataFrame, start_year::Int, end_year::Int)</code></pre><p>Calculate modeled sea level trends.</p><p>Description: This function calculates the trend in different modeled sea level contributions over              a user-specified time period.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  model_output = A vector of modeled annual sea level rise values.
  obs_trends   = The matrix of observed sea level trends provided by the &quot;load_calibration_data&quot; function defined above.
  start_year   = First year of the model run.
  end_year     = Last year of the model run.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration_helper_functions.jl#L499-L513">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_brick_log_posterior-Tuple{Any}" href="#MimiBRICK.construct_brick_log_posterior-Tuple{Any}"><code>MimiBRICK.construct_brick_log_posterior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_brick_log_posterior(f_run_model!; model_start_year::Int=1850, calibration_end_year::Int=2017, joint_antarctic_prior::Bool=false)</code></pre><p>Calculate log posterior for brick.</p><p>Description: This creates a function that calculates the log-posterior probability of the uncertain model, initial              condition, and statistical process parameters.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">f_run_model           = A function that runs the specific climate model version and returns the output being calibrated to observations.
model_start_year      = First year to run the model (not necessarily first year of the calibration if model initializes earlier).
end_year              = The final year to run the model calibration (defaults to 2017).
joint_antarctic_prior = TRUE/FALSE check for whether to use a joint normal prior distribution (TRUE = option 1 described
                        above) or fitted marginal kernel density estimates (FLASE = option 2 described above).</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/create_log_posteriors/create_log_posterior_brick.jl#L189-L204">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_brick_log_prior-Tuple{Bool}" href="#MimiBRICK.construct_brick_log_prior-Tuple{Bool}"><code>MimiBRICK.construct_brick_log_prior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_brick_log_prior(joint_antarctic_prior::Bool; calibration_data_dir::Union{String, Nothing} = nothing)</code></pre><p>Calculate total (log) prior probability for brick.</p><p>Description: This creates a function that will calculate the total (log) prior probability of the uncertain model,              initial condition, and statistical process parameters specific to the standalone BRICK model. It uses              non-uniform priors for the Antarctic ice sheet parameters, informed by a previous model calibration to              paleo data. There are two options for the Antarctic priors (1) fitting marginal distributions using a              kernel density estimation or (2) fitting a multivariate normal distribution that accounts for correlations              that emerge during the paleo calibration (note, many of the marginal paleo pdfs are not normally distributed).</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  joint_antarctic_prior   = TRUE/FALSE check for whether to use a joint normal prior distribution (TRUE = option 1 described
                          above) or fitted marginal kernel density estimates (FLASE = option 2 described above).
  calibration_data_dir    = Data directory for calibration data. Defaults to package calibration data directory, 
                            changing this is not recommended.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/create_log_posteriors/create_log_posterior_brick.jl#L10-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_doeclimbrick_log_posterior-Tuple{Any}" href="#MimiBRICK.construct_doeclimbrick_log_posterior-Tuple{Any}"><code>MimiBRICK.construct_doeclimbrick_log_posterior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_doeclimbrick_log_posterior(f_run_model!; model_start_year::Int=1850, calibration_end_year::Int=2017, joint_antarctic_prior::Bool=false, uniform_ECS::Bool=false)</code></pre><p>Calculate log posterior for doeclimbrick.</p><p>Description: This creates a function that calculates the log-posterior probability of the uncertain model, initial              condition, and statistical process parameters.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">f_run_model           = A function that runs the specific climate model version and returns the output being calibrated to observations.
model_start_year      = First year to run the model (not necessarily first year of the calibration if model initializes earlier).
end_year              = The final year to run the model calibration (defaults to 2017).
joint_antarctic_prior = TRUE/FALSE check for whether to use a joint normal prior distribution (TRUE = option 1 described
                        above) or fitted marginal kernel density estimates (FLASE = option 2 described above).
uniform_ECS           = TRUE/FALSE check for whether or not to use a uniform prior distribution for the equilibrium
                        climate sensitivity (true = use uniform).</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/create_log_posteriors/create_log_posterior_doeclimbrick.jl#L218-L235">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_doeclimbrick_log_prior-Tuple{Bool, Bool}" href="#MimiBRICK.construct_doeclimbrick_log_prior-Tuple{Bool, Bool}"><code>MimiBRICK.construct_doeclimbrick_log_prior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_doeclimbrick_log_prior(joint_antarctic_prior::Bool, uniform_ECS::Bool; calibration_data_dir::Union{String, Nothing} = nothing)</code></pre><p>Calculate total (log) prior probability for doeclimbrick.</p><p>Description: This creates a function that will calculate the total (log) prior probability of the uncertain model,              initial condition, and statistical process parameters specific to the DOECLIM-BRICK model. It uses              non-uniform priors for the Antarctic ice sheet parameters, informed by a previous model calibration to              paleo data. There are two options for the Antarctic priors (1) fitting marginal distributions using a              kernel density estimation or (2) fitting a multivariate normal distribution that accounts for correlations              that emerge during the paleo calibration (note, many of the marginal paleo pdfs are not normally distributed).</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  joint_antarctic_prior   = TRUE/FALSE check for whether to use a joint normal prior distribution (TRUE = option 1 described
                          above) or fitted marginal kernel density estimates (FLASE = option 2 described above).
  uniform_ECS             = TRUE/FALSE check for whether or not to use a uniform prior distribution for the equilibrium
                          climate sensitivity (true = use uniform).
  calibration_data_dir    = Data directory for calibration data. Defaults to package calibration data directory, changing this is not recommended.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/create_log_posteriors/create_log_posterior_doeclimbrick.jl#L10-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_run_brick-Tuple{Int64, Int64}" href="#MimiBRICK.construct_run_brick-Tuple{Int64, Int64}"><code>MimiBRICK.construct_run_brick</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_run_brick(calibration_start_year::Int, calibration_end_year::Int)</code></pre><p>Create a function to run the BRICK model over the historic period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/run_historic_models/run_brick_historic_climate.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_run_doeclimbrick-Tuple{Int64, Int64}" href="#MimiBRICK.construct_run_doeclimbrick-Tuple{Int64, Int64}"><code>MimiBRICK.construct_run_doeclimbrick</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_run_doeclimbrick(calibration_start_year::Int, calibration_end_year::Int)</code></pre><p>Create a function to run the DOECLIM+BRICK model over the historic period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/run_historic_models/run_doeclimbrick_historic_climate.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_run_sneasybrick-Tuple{Int64, Int64}" href="#MimiBRICK.construct_run_sneasybrick-Tuple{Int64, Int64}"><code>MimiBRICK.construct_run_sneasybrick</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_run_sneasybrick(calibration_start_year::Int, calibration_end_year::Int)</code></pre><p>Create a function to run the SNEASY+BRICK model over the historic period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/run_historic_models/run_sneasybrick_historic_climate.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_sneasybrick_log_posterior-Tuple{Any}" href="#MimiBRICK.construct_sneasybrick_log_posterior-Tuple{Any}"><code>MimiBRICK.construct_sneasybrick_log_posterior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_sneasybrick_log_posterior(f_run_model!; model_start_year::Int=1850, calibration_end_year::Int=2017, joint_antarctic_prior::Bool=false, uniform_ECS::Bool=false)</code></pre><p>Calculate log posterior for sneasybrick.</p><p>Description: This creates a function that calculates the log-posterior probability of the uncertain model, initial              condition, and statistical process parameters.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">f_run_model           = A function that runs the specific climate model version and returns the output being calibrated to observations.
model_start_year      = First year to run the model (not necessarily first year of the calibration if model initializes earlier).
end_year              = The final year to run the model calibration (defaults to 2017).
joint_antarctic_prior = TRUE/FALSE check for whether to use a joint normal prior distribution (TRUE = option 1 described
                        above) or fitted marginal kernel density estimates (FLASE = option 2 described above).
uniform_ECS           = TRUE/FALSE check for whether or not to use a uniform prior distribution for the equilibrium
                        climate sensitivity (true = use uniform).</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/create_log_posteriors/create_log_posterior_sneasybrick.jl#L239-L256">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.construct_sneasybrick_log_prior-Tuple{Bool, Bool}" href="#MimiBRICK.construct_sneasybrick_log_prior-Tuple{Bool, Bool}"><code>MimiBRICK.construct_sneasybrick_log_prior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_sneasybrick_log_prior(joint_antarctic_prior::Bool, uniform_ECS::Bool; calibration_data_dir::Union{String, Nothing} = nothing)</code></pre><p>Calculate total (log) prior probability for sneasybrick.</p><p>Description: This creates a function that will calculate the total (log) prior probability of the uncertain model,              initial condition, and statistical process parameters specific to the SNEASY-BRICK model. It uses              non-uniform priors for the Antarctic ice sheet parameters, informed by a previous model calibration to              paleo data. There are two options for the Antarctic priors (1) fitting marginal distributions using a              kernel density estimation or (2) fitting a multivariate normal distribution that accounts for correlations              that emerge during the paleo calibration (note, many of the marginal paleo pdfs are not normally distributed).</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  joint_antarctic_prior   = TRUE/FALSE check for whether to use a joint normal prior distribution (TRUE = option 1 described
                          above) or fitted marginal kernel density estimates (FLASE = option 2 described above).
                          = TRUE/FALSE check for whether or not to use a uniform prior distribution for the equilibrium
                          climate sensitivity (true = use uniform).
  calibration_data_dir    = Data directory for calibration data. Defaults to package calibration data directory, changing this is not recommended.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/create_log_posteriors/create_log_posterior_sneasybrick.jl#L10-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.create_brick_doeclim-Tuple{}" href="#MimiBRICK.create_brick_doeclim-Tuple{}"><code>MimiBRICK.create_brick_doeclim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_brick_doeclim(;rcp_scenario::String = &quot;RCP85&quot;, start_year::Int=1850, end_year::Int=2020)</code></pre><p>Return a Mimi model instance with MimiBRICK and DOECLIM coupled together.</p><p>Description: This function loads forcing data, sets up model parameters, and makes the model component variable connections.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">    rcp_scenario = RCP scenario for exogenous forcing
    start_year   = initial year of the simulation period
    end_year     = ending year of the simulation period</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/create_models/BRICK_DOECLIM.jl#L11-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.create_sneasy_brick-Tuple{}" href="#MimiBRICK.create_sneasy_brick-Tuple{}"><code>MimiBRICK.create_sneasy_brick</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_sneasy_brick(;rcp_scenario::String = &quot;RCP85&quot;, start_year::Int=1850, end_year::Int=2020)</code></pre><p>Return a Mimi model instance with MimiBRICK and MimiSNEASY coupled together.</p><p>Description: This function loads forcing data, sets up model parameters, and makes the model component variable connections.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">    rcp_scenario = RCP scenario for exogenous forcing
    start_year   = initial year of the simulation period
    end_year     = ending year of the simulation period</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/create_models/SNEASY_BRICK.jl#L10-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.downscale_brick-Tuple{}" href="#MimiBRICK.downscale_brick-Tuple{}"><code>MimiBRICK.downscale_brick</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">downscale_brick(;lon::Float64, 
                            lat::Float64, 
                            results_dir::String, 
                            proj_or_hind::String, 
                            ensemble_or_map::String, 
                            model_config::String, 
                            rcp_scenario::String=&quot;RCP85&quot;
                        )</code></pre><p>Downscale BRICK projections to a single point, using either the whole ensemble or only the maximum a posteriori ensemble member. Note this function assumes a specific folder structure and file naming within the top level results_dir.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">- lon = longitude (degrees East) of location for downscaling
- lat = latitude (degrees North) of location for downscaling
- results_dir = the top level directory of results
- proj_or_hind = &quot;proj&quot; for projections, or &quot;hind&quot; for hindcast
- ensemble_or_map = &quot;ensemble&quot; for entire posterior ensemble, or &quot;map&quot; for the maximum a posteriori ensemble member (single simulation)
- model_config = &quot;brick&quot;, &quot;doeclimbrick&quot;, or &quot;sneasybrick&quot;
- rcp_scenario = &quot;RCP26&quot;, &quot;RCP45&quot;, &quot;RCP60&quot;, or &quot;RCP85&quot; (default). Doesn&#39;t matter for hindcast.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/downscale.jl#L13-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.get_fingerprints-Tuple{}" href="#MimiBRICK.get_fingerprints-Tuple{}"><code>MimiBRICK.get_fingerprints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_fingerprints()</code></pre><p>Retrieve BRICK fingerprints from NetCDF file - will download the file to a folder <code>data</code> directory</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/downscale.jl#L191-L196">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.get_model-Tuple{}" href="#MimiBRICK.get_model-Tuple{}"><code>MimiBRICK.get_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_model(;rcp_scenario::String=&quot;RCP85&quot;, start_year::Int=1850, end_year::Int=2020)</code></pre><p>Return a MimiBRICK model instance that can be modified and run.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  rcp_scenario = RCP scenario for exogenous forcing
  start_year   = initial year of the simulation period
  end_year     = ending year of the simulation period</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/MimiBRICK.jl#L26-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.hetero_logl_ar1-Tuple{Vector{Float64}, Float64, Float64, Vector{Union{Missing, Float64}}}" href="#MimiBRICK.hetero_logl_ar1-Tuple{Vector{Float64}, Float64, Float64, Vector{Union{Missing, Float64}}}"><code>MimiBRICK.hetero_logl_ar1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hetero_logl_ar1(residuals::Array{Float64,1}, σ::Float64, ρ::Float64, ϵ::Array{Union{Float64, Missings.Missing},1})</code></pre><p>Calculate AR(1) log-likelihood.</p><p>Description: This function calculates the AR(1) log-likelihood in terms of the data-model residuls when accounting for              time-varying observation errors. It follows &quot;The Effects of Time-Varying Observation Errors on Semi-Empirical              Sea-Level Projections&quot; (Ruckert et al., 2017) DOI 10.1007/s10584-016-1858-z.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  residuals = A vector of data-model residuals.
  σ         = AR(1) innovation standard deviation.
  ρ         = AR(1) autocorrelation term.
  ϵ         = A vector of time-varying observation error estimates (from calibration data sets).</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration_helper_functions.jl#L425-L440">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.hetero_logl_car1-Tuple{Vector{Float64}, Vector{Int64}, Float64, Float64, Vector{Union{Missing, Float64}}}" href="#MimiBRICK.hetero_logl_car1-Tuple{Vector{Float64}, Vector{Int64}, Float64, Float64, Vector{Union{Missing, Float64}}}"><code>MimiBRICK.hetero_logl_car1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hetero_logl_car1(residuals::Array{Float64,1}, indices::Array{Int64,1}, σ²_white_noise::Float64, α₀::Float64, ϵ::Array{Union{Float64, Missings.Missing},1})</code></pre><p>Calculate CAR(1) log-likelihood.</p><p>Description: This function calculates the continuous time autoregressive, or CAR(1), log-likelihood for irregularly              spaced data in terms of the data-model residuls when accounting for time-varying observation errors. It              builds off of &quot;The Effects of Time-Varying Observation Errors on Semi-Empirical Sea-Level Projections&quot;              (Ruckert et al., 2017) DOI 10.1007/s10584-016-1858-z and &quot;The Analysis of Irregularly Observed Stochastic              Astronomical Time-Series – I. Basics of Linear Stochastic Differential Equations&quot; (Koen, 2005)              doi.org/10.1111/j.1365-2966.2005.09213.x</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  residuals      = A vector of data-model residuals.
  indices        = Index positions of observations relative to model time horizon (i.e. the first model time period = 1, the second = 2, etc.).
  σ²_white_noise = Variance of the continuous white noise process.
  α₀             = Parameter describing correlation memory of CAR(1) process.
  ϵ              = A vector of time-varying observation error estimates (from calibration data sets).</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration_helper_functions.jl#L460-L480">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.load_calibration_data-Tuple{Int64, Int64}" href="#MimiBRICK.load_calibration_data-Tuple{Int64, Int64}"><code>MimiBRICK.load_calibration_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_calibration_data(model_start_year::Int, last_calibration_year::Int; last_sea_level_norm_year::Int=1990, calibration_data_dir::Union{Nothing, String} = nothing)</code></pre><p>Load and clean up data used for model calibration.</p><p>Description: This function loads, cleans up, and merges all of the calibration data into a single dataframe.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">- model_start_year         = The first year to include in the calibration data set.
- last_calibration_year    = The last year to run the model for calibration (i.e. 1980 will not consider any post-1980 observations).
- last_sea_level_norm_year = Some sea level data sets may need to be normalized to different years depending on when the calibration ends (this
                             may be necessary for out-of-sample tests). These data sets will be normalized from 1961-last norm year, default = 1961-1990.
- calibration_data_dir    = Data directory for calibration data. Defaults to package calibration data directory, changing this is not recommended.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration_helper_functions.jl#L13-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.next_lat-Tuple{Float64, Int64, Symbol}" href="#MimiBRICK.next_lat-Tuple{Float64, Int64, Symbol}"><code>MimiBRICK.next_lat</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">next_lat(lat::Float64, inc::Int, direction::Symbol)</code></pre><p>Increment latitude by <code>inc</code> in either positive direction (<code>direction=:increase</code>) or in the negative direction (<code>direction=:decrease</code>). Assumes latitude runs from -90 to 90 (deg N).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/downscale.jl#L219-L225">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.next_lon-Tuple{Float64, Int64, Symbol}" href="#MimiBRICK.next_lon-Tuple{Float64, Int64, Symbol}"><code>MimiBRICK.next_lon</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">next_lon(lon::Float64, inc::Int, direction::Symbol)</code></pre><p>Increment longitude by <code>inc</code> in either positive direction (<code>direction=:increase</code>) or in the negative direction (<code>direction=:decrease</code>). Assumes longitude runs from 0 to 360 (deg E).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/downscale.jl#L246-L252">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.replicate_errors-Tuple{Int64, Int64, Any}" href="#MimiBRICK.replicate_errors-Tuple{Int64, Int64, Any}"><code>MimiBRICK.replicate_errors</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">replicate_errors(start_year::Int, end_year::Int, error_data)</code></pre><p>REPLICATE TIME-VARYING OBSERVATION ERRORS FOR PERIODS WITHOUT COVERAGE.</p><p>Description: This function creates a time-series of observation errors for the entire model time horizon. For years              without observation error estimates, the error remains constant at the average of the ten nearest error              values in time.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  start_year = The first year to run the climate model.
  end_year   = The final year to run the climate model.
  error_data = A vector of time-varying observation errors supplied with each calibration data set.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration_helper_functions.jl#L641-L655">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.run_calibration-Tuple{}" href="#MimiBRICK.run_calibration-Tuple{}"><code>MimiBRICK.run_calibration</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_calibration(;   output_dir::String, 
                    model_config=&quot;brick&quot;, 
                    calibration_start_year=1850, 
                    calibration_end_year=2005,
                    total_chain_length=1000, 
                    burnin_length=0, 
                    threshold_gr=1.1, 
                    num_walkers=2,
                    size_subsample=1000, 
                    start_from_priors=false,
                    calibration_data_dir::Union{String, Nothing} = nothing
                )</code></pre><p>This function carries out a Markov chain Monte Carlo calibration of BRICK. This includes one of the following possible model configurations set with <code>model_config</code>     (1) BRICK standalone (forced by input global mean surface temperatures and ocean heat uptake data)     (2) DOECLIM+BRICK     (3) SNEASY+BRICK</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration.jl#L21-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.run_hindcast-Tuple{}" href="#MimiBRICK.run_hindcast-Tuple{}"><code>MimiBRICK.run_hindcast</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_hindcast(; output_dir::String,
                model_config::String = &quot;brick&quot;,
                start_year::Int = 1850,
                end_year = 2017,
            )</code></pre><p>Function to run BRICK (standalone, or with DOECLIM or SNEASY) over the historic period and save the hindcast results to CSV files. </p><p>Function Arguments:</p><pre><code class="nohighlight hljs">- outdir - paths for results files - subsample of model parameters, and associated log-posterior scores, and printed results of this function
- model_config (default = &quot;brick&quot;) - model configuration with possible options: (1) &quot;brick&quot;, (2) &quot;doeclimbrick&quot;, (3) &quot;sneasybrick&quot;
- start_year (default = 1850) - start year for calibration
- end_year (default = 2017) - end year for calibration</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/run_hindcast.jl#L7-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.run_projections-Tuple{}" href="#MimiBRICK.run_projections-Tuple{}"><code>MimiBRICK.run_projections</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_projections(; output_dir::String,
                    model_config::String = &quot;brick&quot;,
                    rcp_scenario::String = &quot;RCP85&quot;,
                    start_year::Int = 1850,
                    end_year = 2300,
                )</code></pre><p>Function to run BRICK (standalone, or with DOECLIM or SNEASY) over the projections period and save the results to CSV files. </p><p>Function Arguments:</p><pre><code class="nohighlight hljs">- outdir - paths for results files - subsample of model parameters, and associated log-posterior scores, and printed results of this function
- model_config (default = &quot;brick&quot;) - model configuration with possible options: (1) &quot;brick&quot;, (2) &quot;doeclimbrick&quot;, (3) &quot;sneasybrick&quot;
- rcp_scenario (default = &quot;RCP85) - RCP scenario with possible options: (1) RCP26, (2) RCP45, (3) RCP60, (4) RCP85
- start_year (default = 1850) - start year for calibration
- end_year (default = 2300) - end year for calibration</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/run_projections.jl#L7-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.simulate_ar1_noise-Tuple{Int64, Float64, Float64, Vector{Float64}}" href="#MimiBRICK.simulate_ar1_noise-Tuple{Int64, Float64, Float64, Vector{Float64}}"><code>MimiBRICK.simulate_ar1_noise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate_ar1_noise(n::Int, σ::Float64, ρ::Float64, ϵ::Array{Float64,1})</code></pre><p>Simulate stationary AR(1) process with time varying observation errors.</p><p>Description: This function simulates a stationary AR(1) process (given time-varying observation errors supplied with              each calibration data set) to superimpose noise onto the climate model projections.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  n = Number of time periods (years) the model is being run for.
  σ = Calibrated standard deviation.
  ρ = Calibrated autocorrelation coefficient.
  ϵ = Time-varying observation errors.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration_helper_functions.jl#L577-L591">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.simulate_car1_noise-NTuple{4, Any}" href="#MimiBRICK.simulate_car1_noise-NTuple{4, Any}"><code>MimiBRICK.simulate_car1_noise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulate_car1_noise(n, α₀, σ²_white_noise, ϵ)</code></pre><p>Simulate stationary CAR(1) process with time varying observation errors.</p><p>Description: This function simulates a stationary CAR(1) process (given time-varying observation errors supplied with              each calibration data set) to superimpose noise onto the climate model projections.</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  n              = Number of time periods (years) the model is being run for.
  α₀             = Calibrated term describing correlation memory of CAR(1) process.
  σ²_white_noise = Calibrated continuous white noise process variance term.
  ϵ              = Time-varying observation errors.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration_helper_functions.jl#L608-L622">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MimiBRICK.truncated_kernel-Tuple{Any, Any, Any}" href="#MimiBRICK.truncated_kernel-Tuple{Any, Any, Any}"><code>MimiBRICK.truncated_kernel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">truncated_kernel(data, lower_bound, upper_bound)</code></pre><p>Calculate kernel density estimates with truncated bounds.</p><p>Description: This function creates a fitted kernel density object (from KernelDensity.jl package) and              crops the edges to user-specified lower and upper bounds (setting boundaries beforehand,              can lead to issues with some parameters because, &quot;Due to the fourier transforms used              internally, there should be sufficient spacing to prevent wrap-around at the boundaries&quot;)</p><p>Function Arguments:</p><pre><code class="nohighlight hljs">  data        = Parameter samples used for the kernel density estimate.
  lower_bound = Minimum parameter value corresponding to the lower bound of the fitted density.
  upper_bound = Maximum parameter value corresponding to the upper bound of the fitted density.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/raddleverse/MimiBRICK.jl/blob/443bb03d65da1cb84a1d5d015a84227359096144/src/calibration/calibration_helper_functions.jl#L535-L550">source</a></section></article><h2 id="Author-Contributions"><a class="docs-heading-anchor" href="#Author-Contributions">Author Contributions</a><a id="Author-Contributions-1"></a><a class="docs-heading-anchor-permalink" href="#Author-Contributions" title="Permalink"></a></h2><ul><li>TW: initial model development, software development, model calibration and validation, conceptualization, projection direction and overall management</li><li>LR: software development, package maintenance, conceptualization</li><li>FE: software development, model calibration and validation, conceptualization</li><li>VS: software testing, model calibration and validation, conceptualization</li><li>AB: initial model development, software testing, conceptualization</li><li>KK: software testing, conceptualization</li><li>DA: software development, package maintenance, conceptualization, project direction</li></ul><h2 id="License"><a class="docs-heading-anchor" href="#License">License</a><a id="License-1"></a><a class="docs-heading-anchor-permalink" href="#License" title="Permalink"></a></h2><p>Copyright 2022 Tony Wong, Lisa Rennels, Frank Errickson, Vivek Srikrishnan, Alexander Bakker, Klaus Keller, and David Anthoff</p><p>This file and codes in this repository are part of MimiBRICK.jl (Building blocks for Relevant Ice and Climate Knowledge). MimiBRICK.jl is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p><p>MimiBRICK.jl is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with MimiBRICK.jl (<code>LICENSE.md)</code>). If not, see http://www.gnu.org/licenses/.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="install_and_examples/">Installation and Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Friday 19 August 2022 03:16">Friday 19 August 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
